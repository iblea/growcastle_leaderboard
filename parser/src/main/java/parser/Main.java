/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package parser;

import parser.db.Database;
import parser.entity.Token;

public class Main {
    public String getGreeting() {
        return "Hello World!";
    }

    public static Token getTelegramToken(Database db) {
        String findTokenName = "telegram";
        Token token = db.selectByBotName(findTokenName);

        if (token == null) {
            System.out.println("token is NULL");
            throw new NullPointerException(findTokenName + " token is NULL");
        }
        System.out.println("token.botName : " + token.getBotName());
        System.out.println("token.botToken : " + token.getBotToken());
        return token;
    }

    public static void main(String[] args) {
        System.out.println(new Main().getGreeting());

        Database db = new Database("growcastle");
        db.connectEntityManagerFactory();
        Token token = getTelegramToken(db);
        db.disconnectEntityManagerFactory();
    }
}
